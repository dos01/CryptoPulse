<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.Priority?>
<?import java.lang.String?>
<?import javafx.geometry.Insets?>

<VBox spacing="30.0" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.cryptotrader.DashboardController" stylesheets="@style.css" prefWidth="1200" prefHeight="800">
    <padding>
        <Insets bottom="40.0" left="40.0" right="40.0" top="40.0" />
    </padding>
    
    <children>
        <!-- Header -->
        <HBox alignment="CENTER_LEFT" spacing="20">
            <children>
                <VBox>
                    <children>
                        <Label text="CryptoPulse" styleClass="header-title" />
                        <Label fx:id="statusLabel" text="Real-time Market Insights" styleClass="header-subtitle" />
                    </children>
                </VBox>
                <Region HBox.hgrow="ALWAYS" />
                <HBox spacing="15" alignment="CENTER_RIGHT">
                    <children>
                        <Button text="Manual Refresh" onAction="#handleRefresh" styleClass="btn-icon" />
                        <Button text="+ Add Asset" onAction="#handleAddToWatchlist" styleClass="btn-action" />
                    </children>
                </HBox>
            </children>
        </HBox>

        <!-- Market Summary Cards -->
        <HBox spacing="20.0">
            <children>
                <!-- Card 1 -->
                <VBox styleClass="metric-card" HBox.hgrow="ALWAYS">
                    <children>
                        <Label text="Top Gainer (24h)" styleClass="metric-label" />
                        <Label fx:id="topGainerLabel" text="Loading..." styleClass="metric-value text-success" />
                    </children>
                </VBox>
                
                <!-- Card 2 -->
                <VBox styleClass="metric-card" HBox.hgrow="ALWAYS">
                    <children>
                        <Label text="Market Sentiment" styleClass="metric-label" />
                        <Label text="Bullish" styleClass="metric-value text-success" /> 
                    </children>
                </VBox>
                
                <!-- Card 3 -->
                <VBox styleClass="metric-card" HBox.hgrow="ALWAYS">
                    <children>
                        <Label text="Global Market Cap" styleClass="metric-label" />
                        <Label text="\$1.42T" styleClass="metric-value text-primary" />
                    </children>
                </VBox>
            </children>
        </HBox>

        <!-- Main Content -->
        <VBox VBox.vgrow="ALWAYS" styleClass="glass-panel" spacing="15">
            <padding>
                <Insets top="20" right="0" bottom="0" left="0" />
            </padding>
            <children>
                <Label text="WATCHLIST ASSETS" style="-fx-font-size: 13px; -fx-font-weight: 700; -fx-text-fill: #94a3b8; -fx-padding: 0 20;" />
                
                <TableView fx:id="priceTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="coinColumn" text="NAME" prefWidth="180" />
                        <TableColumn fx:id="priceColumn" text="PRICE" prefWidth="180" />
                        <TableColumn fx:id="changeColumn" text="24H CHANGE" prefWidth="150" />
                        <TableColumn fx:id="marketCapColumn" text="MARKET CAP" prefWidth="200" />
                    </columns>
                </TableView>
            </children>
        </VBox>
        
        <!-- Footer -->
        <HBox alignment="CENTER" style="-fx-opacity: 0.4;">
            <children>
                <Label text="CryptoPulse Dashboard â€¢ Data via CoinGecko" style="-fx-font-size: 12px; -fx-text-fill: #94a3b8;" />
            </children>
        </HBox>
    </children>
</VBox>
